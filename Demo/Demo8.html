<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>监听属性</title>
    <script type="text/javascript" src="../vue.min.js"></script>
</head>
<body>
    <div id="app">
        <input type="text" v-model="meter"/>
        <span>米 等于</span>
        <input type="text" v-model="kilometer"/>
        <span>千米</span>
        <p>{{message}}</p>
    </div>
    <script type="text/javascript">
        var app = new Vue({
            el: "#app",
            data: {
                meter: 0,
                kilometer: 0,
                message: ""
            },
            //监听属性，监听对应的值的变化
            watch :{
                meter: function(val){
                    this.meter = val;
                    this.kilometer = val / 1000;
                },
                kilometer: function(val){
                    this.kilometer = val;
                    this.meter = val * 1000;
                }
            }
        });

        // $watch 是一个实例方法
        app.$watch("kilometer",function(oldValue,newValue){
            // 这个回调将在 kilometer 改变后调用
            this.message = "现在的值是:" + newValue + ",修改之前的值是:" + oldValue;
        });
    </script>
</body>
</html>